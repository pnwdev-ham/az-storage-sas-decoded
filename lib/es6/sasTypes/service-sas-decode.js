var o=function(){return o=Object.assign||function(r){for(var i,n=1,t=arguments.length;n<t;n++){i=arguments[n];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(r[e]=i[e])}return r},o.apply(this,arguments)};import{resource as d,serviceSasBasicProperties as l,accessPolicyProperties as v,blobStorageAndAzureFileResponseHeaderOverrideParameters as c,blobStoragePermissions as f}from"./service-sas-types";function s(r,i){var n={};if(r.length===0)return{};for(var t=Object.keys(i),e=0;e<t.length-1;e++){var u=t[e];r.includes(u)&&(n[u]=i[u])}return n}export function decodeServiceTokenQueryString(r){var i,n,t={},e=Object.keys(r);if(e.length===0)return{};if(t=o({},s(e,l)),t=o(o({},t),s(e,v)),t=o(o({},t),s(e,c)),e.includes("sp")){var u=(i=r?.sp)===null||i===void 0?void 0:i.split("");u&&(t.sp.permissions=s(u,f))}if(e.includes("sr")){var a=(n=r?.sr)===null||n===void 0?void 0:n.split("");a&&(t.sr.resources=s(a,d))}return t}export function arePermissionsInOrder(r){if(!r||r.length===0)return!0;var i="racwdxltmeopi".split(""),n=r.split("").sort(function(t,e){return i.indexOf(t)-i.indexOf(e)}).join("");return r===n}